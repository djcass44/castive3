deploymentApiVersion: apps/v1
podAnnotations:
  k8s-app: dcas-dev
service:
  externalPort: 8080
  internalPort: 8080
ingress:
  annotations:
    kubernetes.io/ingress.provider: "nginx"
    kubernetes.io/ingress.class: "gitlab-nginx"
  tls:
    enabled: true
    secretName: prod-dcas-dev
livenessProbe:
  path: "/healthz"
readinessProbe:
  path: "/healthz"
postgresql:
  enabled: false
resources:
  requests:
    memory: 25Mi
    cpu: 10m
  limits:
    memory: 50Mi
    cpu: 50m
networkPolicy:
  enabled: true
  spec:
    podSelector:
      matchLabels:
        k8s-app: dcas-dev
    ingress:
    - from:
      - podSelector:
          matchLabels:
            app: nginx-ingress
      - namespaceSelector:
          matchLabels:
            k8s-name: gitlab
